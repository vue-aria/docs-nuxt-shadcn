import{d as T,a as R,r as S,u as k,o as B,aR as U,aS as j,aT as E,aF as I,aU as V,a6 as q,aG as A,aV as F,aW as O,aX as D,I as y,aM as _,aL as H,ao as M,s as z,aK as Q,aY as W}from"./CyF4192l.js";const $=(...t)=>t.find(i=>i!==void 0);function G(t){const i=t.componentName||"NuxtLink";function f(e,a){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return L(e,t.trailingSlash);const g="path"in e&&e.path!==void 0?e.path:a(e).path;return{...e,name:void 0,path:L(g,t.trailingSlash)}}function x(e){const a=R(),g=z(),s=y(()=>!!e.target&&e.target!=="_self"),l=y(()=>{const u=e.to||e.href||"";return typeof u=="string"&&_(u,{acceptRelative:!0})}),m=A("RouterLink"),d=m&&typeof m!="string"?m.useLink:void 0,v=y(()=>{if(e.external)return!0;const u=e.to||e.href||"";return typeof u=="object"?!1:u===""||l.value}),n=y(()=>{const u=e.to||e.href||"";return v.value?u:f(u,a.resolve)}),o=v.value||d==null?void 0:d({...e,to:n}),h=y(()=>{var u;if(!n.value||l.value)return n.value;if(v.value){const c=typeof n.value=="object"?P(n.value):n.value;return f(c,a.resolve)}return typeof n.value=="object"?((u=a.resolve(n.value))==null?void 0:u.href)??null:f(H(g.app.baseURL,n.value),a.resolve)});return{to:n,hasTarget:s,isAbsoluteUrl:l,isExternal:v,href:h,isActive:(o==null?void 0:o.isActive)??y(()=>n.value===a.currentRoute.value.path),isExactActive:(o==null?void 0:o.isExactActive)??y(()=>n.value===a.currentRoute.value.path),route:(o==null?void 0:o.route)??y(()=>a.resolve(n.value)),async navigate(){await M(h.value,{replace:e.replace,external:v.value||s.value})}}}return T({name:i,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:x,setup(e,{slots:a}){const g=R(),{to:s,href:l,navigate:m,isExternal:d,hasTarget:v,isAbsoluteUrl:n}=x(e),o=S(!1),h=S(null),u=c=>{var b;h.value=e.custom?(b=c==null?void 0:c.$el)==null?void 0:b.nextElementSibling:c==null?void 0:c.$el};if(e.prefetch!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!X()){const b=k();let p,r=null;B(()=>{const w=K();U(()=>{p=j(()=>{var C;(C=h==null?void 0:h.value)!=null&&C.tagName&&(r=w.observe(h.value,async()=>{r==null||r(),r=null;const N=typeof s.value=="string"?s.value:d.value?P(s.value):g.resolve(s.value).fullPath;await Promise.all([b.hooks.callHook("link:prefetch",N).catch(()=>{}),!d.value&&!v.value&&E(s.value,g).catch(()=>{})]),o.value=!0}))})})}),I(()=>{p&&V(p),r==null||r(),r=null})}return()=>{var p;if(!d.value&&!v.value){const r={ref:u,to:s.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(o.value&&(r.class=e.prefetchedClass||t.prefetchedClass),r.rel=e.rel||void 0),q(A("RouterLink"),r,a.default)}const c=e.target||null,b=$(e.noRel?"":e.rel,t.externalRelAttribute,n.value||v.value?"noopener noreferrer":"")||null;return e.custom?a.default?a.default({href:l.value,navigate:m,get route(){if(!l.value)return;const r=new URL(l.value,window.location.href);return{path:r.pathname,fullPath:r.pathname,get query(){return F(r.search)},hash:r.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:b,target:c,isExternal:d.value||v.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:h,href:l.value||null,rel:b,target:c},(p=a.default)==null?void 0:p.call(a))}}})}const J=G(O);function L(t,i){const f=i==="append"?Q:W;return _(t)&&!t.startsWith("http")?t:f(t,!0)}function K(){const t=k();if(t._observer)return t._observer;let i=null;const f=new Map,x=(a,g)=>(i||(i=new IntersectionObserver(s=>{for(const l of s){const m=f.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&m&&m()}})),f.set(a,g),i.observe(a),()=>{f.delete(a),i.unobserve(a),f.size===0&&(i.disconnect(),i=null)});return t._observer={observe:x}}function X(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}function P(t){return D(t.path||"",t.query||{})+(t.hash?"#"+t.hash:"")}export{J as _};
